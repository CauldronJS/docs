<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">API Overview</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="CauldronJS · Making plugin development easier."><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="Cauldron is a very complex project, but I want to make that less of the case with some"><meta data-react-helmet="true" property="og:description" content="Cauldron is a very complex project, but I want to make that less of the case with some"><meta data-react-helmet="true" property="og:url" content="https://cauldronjs.com/docs/api-overview">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.6a878b07.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="CauldronJS"><strong>CauldronJS</strong></a><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/CauldronJS">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="CauldronJS"><strong>CauldronJS</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/CauldronJS">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CauldronJS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/design-principles">Design Principles</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contributing">contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/integration">integration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/making-our-first-plugin">Making Our First Plugin</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/jsx">JSX</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">APIs</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/api-overview">Overview</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">API Overview</h1></header><div class="markdown"><p>Cauldron is a very complex project, but I want to make that less of the case with some
detailed explanations of how it all works. If you aren&#x27;t interested, that&#x27;s fine. If you are,
well then take a seat for a bit.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="in-the-beginning"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#in-the-beginning" title="Direct link to heading">#</a>In The Beginning</h2><p>Cauldron stemmed from an old project I helped with called
<a href="https://github.com/Connicpu/PlugJS">PlugJS</a> (<a href="https://github.com/Conji/PlugJS-Lib">associated scripts</a>). I&#x27;m still somewhat proud of it because it started 6 months prior to the popular
ScriptCraft™, back when Bukkit was still kind of new and the game was taking off. As
someone who wasn&#x27;t too fond of Java but had a positive mindset about JavaScript and the new
languages being built from it, having fun with it wasn&#x27;t hard. Since Oracle® provided a
good JavaScript engine (Rhino at the time) with Java, there really wasn&#x27;t anything to shy away
from.</p><p>Move forward a little bit and the plugin was mostly written in CoffeeScript (is it still alive?
). Life occured, jobs happened, and fast forward to around 2017. I&#x27;d found the new JS engine
Nashorn and was <a href="https://github.com/Thiq/Thiq">determined to make a plugin better than prior</a>.
It was hard considering it didn&#x27;t have the new features JS was beginning to release with, but
I dealt with it. Through another year or two, the gap widened by too much. Dropping active
development until I could either find a new engine or get the guts to write my own, the
waiting game began.</p><p>Eventually I stumbled about GraalVM® and thus CauldronJS was born. New life had been given
to what was originally named Thiq with so much more potential but a larger goal: allow NodeJS
to run in an already existing Java environment. Graal can run JS and replace Node, but it
can&#x27;t do it in the Java context. When asked to, the developers simply said &quot;we can&#x27;t&quot;. This
what birthed the need for Cauldron.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="2-parts-java-1-part-javascript"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-parts-java-1-part-javascript" title="Direct link to heading">#</a>2 Parts Java, 1 Part JavaScript</h2><p>One of the main design principles for Cauldron is <em>never require the developer to rely on
Java</em>. No matter the problem, something shouldn&#x27;t be implemented in a different way just
because it&#x27;s the core is in Java. If someone wants to, they have the power to. But if you run
into a problem, it shouldn&#x27;t be required to compare a Java vs JavaScript. This is achieved by
having the core functionality of the plugin residing in
<a href="https://github.com/cauldronjs/api">the API repository</a>. All thread work is consistent across
all platforms to provide a common benchmark. In the future, instances of the CVM/Isolate will
be placed on a separate thread when possible, but that&#x27;s way farther than now and won&#x27;t change
any base implementations.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-the-cvm"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-the-cvm" title="Direct link to heading">#</a>What Is The CVM?</h3><p>The CVM, or the Cauldron Virtual Machine, is referenced as an <code>Isolate</code> in the code. This class
is in charge of creating the JS engine and managing the context as well as bindings. If you
create 2 Isolates, neither will have knowledge of each other. By keeping them separate, it can
prevent security concerns when running multiple JS environments within a single JVM. An example
of where this can be used would be to create a computer mod that runs on JS.</p><p>By default, the Cauldron instance has a main Isolate. When creating the Isolate, the core
libraries are bootstrapped to inject Cauldron specific globals and process information. If
we have an Isolate prepared and ready to be used, we can save the hassle of building a new one
at runtime. While not expensive, it can save precious seconds. Once set in a warming state, the
Isolate can then either run the entry point of the working directory or process regular JS
inputs. The platform specific JARs then use this to process the code in whatever way it sees
fit.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="differences-between-platforms"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#differences-between-platforms" title="Direct link to heading">#</a>Differences Between Platforms</h3><p>At the moment Cauldron runs on Spigot and Sponge, of which both are very different. Spigot
reimplements the Bukkit API while Sponge creates its own. To bypass this, the Cauldron API
is built into each artifact at compile time so as not to duplicate code and create as
consistent a codebase as possible. The design between the two though is not very different.
Both listen for when Cauldron is being allowed to load then process the entry point there. Even
if a client-side version of Cauldron were made, it&#x27;d function the same way.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="native-libraries"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#native-libraries" title="Direct link to heading">#</a>Native Libraries</h2><p>Embedded within Cauldron is the core library implementation. In NodeJS, this is found in the
<a href="https://github.com/nodejs/node/tree/master/lib"><code>lib</code> directory</a> - the same as Cauldron. The
difference is that Cauldron allows for hot reloading and contextual injecting of this directory
from local disk, meaning updates can be pushed to Cauldron without having to reinstall the
plugin. To prevent files from hijacking the directory, Cauldron keeps a lock on the directory
so external threads or non-owned JS can&#x27;t modify it. The only recommended way to update is via the command <code>npx update-cauldron</code> (<em>soon to be implemented</em>).</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/CauldronJS/scripts/edit/master/docusaurus/docs/api-overview.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/jsx"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Using JSX In Cauldron</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#in-the-beginning" class="contents__link">In The Beginning</a></li><li><a href="#2-parts-java-1-part-javascript" class="contents__link">2 Parts Java, 1 Part JavaScript</a><ul><li><a href="#what-is-the-cvm" class="contents__link">What Is The CVM?</a></li><li><a href="#differences-between-platforms" class="contents__link">Differences Between Platforms</a></li></ul></li><li><a href="#native-libraries" class="contents__link">Native Libraries</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/design-principles">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/cauldronjs">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discord.gg/E9ntVnn">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/CauldronJS">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/CauldronJS">Twitter</a></li></ul></div></div><div class="text--center">Copyright © 2020 Justin Cox - Built with Docusaurus.</div></div></footer>
</div>

<script src="/styles.12862b2e.js"></script>

<script src="/runtime~main.4aeac5e6.js"></script>

<script src="/main.935f481c.js"></script>

<script src="/1.71aeb7fd.js"></script>

<script src="/2.f624a43e.js"></script>

<script src="/1be78505.be393557.js"></script>

<script src="/20ac7829.895afcf5.js"></script>

<script src="/17896441.5da28e77.js"></script>

<script src="/5b56335e.2e449b37.js"></script>


</body>
</html>